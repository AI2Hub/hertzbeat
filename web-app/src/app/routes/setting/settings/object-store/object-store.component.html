<nz-spin [nzSpinning]="loading">
  <div class="main" *ngIf="config">
    <form nz-form #objectStoreForm="ngForm" (submit)="onSaveObjectStore()">
      <nz-form-item>
        <nz-form-label [nzSpan]="10" nzFor="config.type"
                       nzRequired="true">{{ 'settings.object-store.type' | i18n }}</nz-form-label>
        <nz-select
          [(ngModel)]="config.type"
          [ngModelOptions]="{ standalone: true }"
          style="text-align: center; font-weight: bolder"
          [nzDropdownStyle]="{ 'font-weight': 'bolder', 'font-size': 'larger' }"
        >
          <nz-option [nzValue]="ObjectStoreType.OBS" [nzLabel]="'settings.object-store.type.obs' | i18n"></nz-option>
        </nz-select>
      </nz-form-item>
      <nz-form-item *ngIf="config.type == ObjectStoreType.OBS">
        <nz-form-label [nzSpan]="10" nzFor="obs.accessKey"
                       nzRequired="true">{{ 'settings.object-store.obs.accessKey' | i18n }}</nz-form-label>
        <nz-form-control [nzSpan]="20" [nzErrorTip]="'validation.required' | i18n">
          <input [(ngModel)]="config.config.accessKey" nz-input required name="accessKey" type="text" id="accessKey"/>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item *ngIf="config.type == ObjectStoreType.OBS">
        <nz-form-label [nzSpan]="10" nzFor="obs.secretKey"
                       nzRequired="true">{{ 'settings.object-store.obs.secretKey' | i18n }}</nz-form-label>
        <nz-form-control [nzSpan]="12" [nzErrorTip]="'validation.required' | i18n">
          <input [(ngModel)]="config.config.secretKey" nz-input required name="secretKey" type="text" id="secretKey"/>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item *ngIf="config.type == ObjectStoreType.OBS">
        <nz-form-label [nzSpan]="10" nzFor="obs.bucketName"
                       nzRequired="true">{{ 'settings.object-store.obs.bucketName' | i18n }}</nz-form-label>
        <nz-form-control [nzSpan]="12" [nzErrorTip]="'validation.required' | i18n">
          <input [(ngModel)]="config.config.bucketName" nz-input required name="bucketName" type="text"
                 id="bucketName"/>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item *ngIf="config.type == ObjectStoreType.OBS">
        <nz-form-label [nzSpan]="10" nzFor="obs.endpoint"
                       nzRequired="true">{{ 'settings.object-store.obs.endpoint' | i18n }}</nz-form-label>
        <nz-form-control [nzSpan]="12" [nzErrorTip]="'validation.required' | i18n">
          <input [(ngModel)]="config.config.endpoint" nz-input required name="endpoint" type="text" id="endpoint"/>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item *ngIf="config.type == ObjectStoreType.OBS">
        <nz-form-label [nzSpan]="10" nzFor="obs.savePath"
                       nzRequired="true">{{ 'settings.object-store.obs.savePath' | i18n }}</nz-form-label>
        <nz-form-control [nzSpan]="12" [nzErrorTip]="'validation.required' | i18n">
          <input [(ngModel)]="config.config.savePath" nz-input required name="savePath" type="text" id="savePath"/>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <button nz-button nzType="primary">{{ 'settings.system-config.ok' | i18n }}</button>
      </nz-form-item>
    </form>
  </div>
</nz-spin>
